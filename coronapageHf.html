<html>
	<head>
					<title>
						SemesterProject
					</title>
				
							

	</head>
					<body>
             <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Au Register Forms by Colorlib</title>

    <!-- Icons font CSS-->
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/main.css" rel="stylesheet" media="all">
</head>

					<div id="FormContainer">
              <div id="header"></div>
                <div class="page-wrapper bg-gra-01 p-t-180 p-b-100 font-poppins">
                  <button id="signout" class="sign btn--signout btn--white" type="signout">Sign Out</button>
                  <div class="wrapper wrapper--w780">
                      <div class="card card-3">
                          <div class="card-heading"></div>
                          <div class="card-body">
                              <h2 class="title">Update Info</h2>
                              <div>
                                  <div class="input-group">
                                      <input class="input--style-3" type="code" placeholder="Code" id="code">
                                  </div>
                                  <div class="input-group">
                                      <input class="input--style-3 " type="HospitalName" placeholder="Hospital Name" id="hospitalname">
                                  </div>
                                  <div class="input-group">
                                      <input class="input--style-3" type="No. of beds" placeholder="No. of beds" id="noofbeds">
                                  </div>
                                  <div class="input-group">
                                      <input class="input--style-3" type="Name of vaccine" placeholder="Name of vaccine" id="nameofvaccine">
                                  </div>
                                  <div class="input-group">
                                      <input class="input--style-3" type="Quantity" placeholder="Quantity" id="quantity">
                                  </div>
                                  <div class="p-t-10">
                                      <button id="insert" class="btn btn--insert btn--green" type="Insert">Insert</button>
                                      <button id="select" class="btn btn--select btn--green" type="Select">Select</button>
                                      <button id="update" class="btn btn--update btn--green" type="Update">Update</button>
                                      <button id="delete" class="btn btn--delete btn--green" type="Delete">Delete</button>
                                      <button id="show" class="bttn btn--signout btn--green" type="show"><a href="coronas.html"target="_blank">Show Tables</a></button>
                                  </div>
                                </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>

                
									
              </div>
              <!-- Jquery JS-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="js/global.js"></script>

              <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
              <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
              <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-database.js"></script>
              
              <script>
                 var firebaseConfig = {
    apiKey: "AIzaSyD81n9iY34KfiknZyDp39aNBdt-HaSgs-s",
    authDomain: "project-5ddf8.firebaseapp.com",
    databaseURL: "https://project-5ddf8.firebaseio.com",
    projectId: "project-5ddf8",
    storageBucket: "project-5ddf8.appspot.com",
    messagingSenderId: "909886732948",
    appId: "1:909886732948:web:e077aad4d06a39e5609281",
    measurementId: "G-8M9TMWW95C"
  };
              
                
                    
                firebase.initializeApp(firebaseConfig);

                firebase.auth().onAuthStateChanged(function(user) {

                              if(user)
                              {

                              var user= firebase.auth().currentUser;

                              var uid= user.uid;
                              console.log(uid);
                              }
                              else{
                              console.log("signed out");
                              }
                              })
              
                var codev,hospitalnamev,noofbedsv,nameofvaccinev,quantityv;

                function ready(){

                   codev= document.getElementById("code").value;
                   hospitalnamev=document.getElementById("hospitalname").value;
                   noofbedsv= document.getElementById("noofbeds").value;
                   nameofvaccinev= document.getElementById("nameofvaccine").value;
                   quantityv= document.getElementById("quantity").value;
                }
              
                //---------------Insert button--------------

                document.getElementById("insert").onclick=function(){
                  ready();

                  var user= firebase.auth().currentUser;
                  var uid= user.uid;

                  window.alert("Working");
                  firebase.database().ref('user/'+ uid + '/'+ codev).set({
                    Code: codev,
                    Hospitalname: hospitalnamev,
                    Noofbeds: noofbedsv,
                    Nameofvaccine: nameofvaccinev,
                    Quantity: quantityv
                    })
                }

                //--------------Selection button----------

                document.getElementById("select").onclick=function(){
                  ready();

                  var user= firebase.auth().currentUser;
                  var uid= user.uid;

                  window.alert("Working");
                  firebase.database().ref('user/'+ uid + '/'+ codev).on("value",function(snapshot){
                    document.getElementById("hospitalname").value= snapshot.val().Hospitalname;
                    document.getElementById("noofbeds").value= snapshot.val().Noofbeds;
                    document.getElementById("nameofvaccine").value= snapshot.val().Nameofvaccine;
                    document.getElementById("quantity").value= snapshot.val().Quantity;
                  })
                }

                //-------------Update button--------------

                document.getElementById("update").onclick=function(){
                  ready();

                  var user= firebase.auth().currentUser;
                  var uid= user.uid;

                  window.alert("Working");
                  firebase.database().ref('user/'+ uid + '/'+ codev).update({
                    Hospitalname: hospitalnamev,
                    Noofbeds: noofbedsv,
                    Nameofvaccine: nameofvaccinev,
                    Quantity: quantityv
                   
                    })
                }

                //-------------Delete button--------------

                document.getElementById("delete").onclick=function(){
                  ready();

                  var user= firebase.auth().currentUser;
                  var uid= user.uid;

                  window.alert("Working");
                  firebase.database().ref('user/'+ uid + '/'+ codev).remove();
                }

                //------------Show Tables----------------

            


                  


 //--------------------Sign Out button-------------


              document.getElementById("signout").onclick = function(){

              console.log(firebase.auth().currentUser);

              firebase.auth().signOut().then(function() {
                window.alert("Signed Out Successfully");
                window.location.replace("./SigninCorona (1).html");
              }).catch(function(error) {
                window.alert("Sign Out Failed");
              });
              }


                
              
              </script>

<script src= "https://code.jquery.com/jquery-3.1.0.js"></script>
									


		

	</body>
</html>
